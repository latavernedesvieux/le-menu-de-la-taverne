<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Menu de la Taverne ‚Äî Jeux pr√™ts</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&family=Inter:wght@300;400;600&display=swap');

body {
  font-family:"Inter",sans-serif; padding:2rem;
  background:url('https://images.unsplash.com/photo-1503589713263-327abf71f4ff?auto=format&fit=crop&w=1600&q=80') center/cover no-repeat fixed;
  color:#3b2b1f;
}
body::before { content:""; position:fixed; inset:0; background: rgba(60,40,20,0.35); z-index:-1; pointer-events:none; }

.page { max-width:1100px; margin:0 auto; background: rgba(245,235,210,0.85); border:6px solid rgba(60,40,20,0.6); border-radius:16px; box-shadow:0 15px 35px rgba(0,0,0,0.5); padding:28px; }

.title { font-family:"MedievalSharp", serif; font-size:2.6rem; color:#5b3a1a; }
.subtitle{ color:#6b4b2f; margin-top:-4px; font-size:1.1rem; }

.card { background: linear-gradient(180deg, #fff5e0 0%, #f2e3c0 100%); border-radius:12px; border:2px solid rgba(60,40,20,0.3); display:flex; gap:1rem; padding:1rem; transition: transform 0.3s ease, box-shadow 0.3s ease; box-shadow:0 8px 20px rgba(0,0,0,0.25); position:relative; }
.card:hover { transform: translateY(-4px) scale(1.02); box-shadow:0 12px 30px rgba(0,0,0,0.35); }

.jaquette { width:100%; height:180px; object-fit:cover; border-radius:6px; border:1px solid rgba(60,40,20,0.2); }
.badge-available{ background:#3c7d1f; color:white; padding:.25rem .55rem; border-radius:999px; font-weight:600; font-size:.85rem;}
.badge-reserved{ background:#d97706; color:white; padding:.25rem .55rem; border-radius:999px; font-weight:600; font-size:.85rem;}
.badge-soon{ background:#6b4b2f; color:white; padding:.25rem .55rem; border-radius:999px; font-weight:600; font-size:.85rem;}
.muted{ color:#5b4b3f; font-size:.95rem; }

#add-game-btn { display:block; margin:2rem auto; padding:.75rem 1.5rem; background:#3c7d1f; color:white; border-radius:8px; font-weight:600; cursor:pointer; transition:.2s; }
#add-game-btn:hover { background:#2e5d14; }

.popup { display:none; position:fixed; inset:0; background: rgba(0,0,0,0.6); z-index:50; align-items:center; justify-content:center; }
.popup .popup-content { background:#fff5e0; padding:2rem; border-radius:12px; max-width:400px; width:90%; text-align:center; box-shadow:0 8px 20px rgba(0,0,0,0.5); position:relative; }
.popup input { width:80%; padding:0.5rem; border:1px solid #3b2b1f; border-radius:6px; margin-top:1rem; }
.popup button { margin-top:1rem; padding:0.5rem 1rem; background:#3c7d1f; color:white; border-radius:6px; font-weight:600; cursor:pointer; }
.popup .close-popup { position:absolute; top:0.5rem; right:0.5rem; cursor:pointer; font-weight:bold; color:#3b2b1f; }
</style>
</head>
<body>

<div class="page">
  <header class="mb-6">
    <h1 class="title">Le Menu de la Taverne</h1>
  </header>
  <p class="subtitle mb-6">Carte des jeux pr√™ts √† √™tre pr√™t√©s ‚Äî choisissez votre qu√™te pour un mois complet üéÆüç∫</p>

  <section class="grid grid-cols-1 md:grid-cols-2 gap-5" id="games-container"></section>

  <button id="add-game-btn">Ajouter un jeu √† sugg√©rer</button>
</div>

<!-- Popup suggestion -->
<div id="suggest-popup" class="popup">
  <div class="popup-content">
    <span class="close-popup">&times;</span>
    <h3>Sugg√©rer un jeu</h3>
    <input type="text" id="suggest-pseudo" placeholder="Votre pseudo" required>
    <input type="text" id="suggest-link" placeholder="Nom ou lien du jeu" required>
    <button id="submit-suggest">Envoyer</button>
    <p id="suggest-msg"></p>
  </div>
</div>

<!-- JSON des jeux -->
<script id="game-data" type="application/json">
[{"title":"Voidtrain","appid":"1159690","status":"disponible","note":"","steam":"https://store.steampowered.com/app/1159690/Voidtrain/","desc":"Devenez membre d'√©quipage d'un train interdimensionnel : explorez des mondes √©tranges, am√©liorez votre train, craft et combattez seul ou en coop jusqu'√† 4 joueurs."},
{"title":"Sons of the Forest","appid":"1326470","status":"disponible","note":"","steam":"https://store.steampowered.com/app/1326470/Sons_Of_The_Forest/","desc":"Envoy√© sur une √Æle lointaine pour retrouver un milliardaire disparu, vous luttez pour survivre dans un open-world survival-horror, seul ou avec des amis."},
{"title":"Icarus","appid":"1149460","status":"disponible","note":"","steam":"https://store.steampowered.com/app/1149460/ICARUS/","desc":"PvE survival ax√© sur des missions et un monde persistant : atterrissez, r√©coltez, construisez votre avant-poste et survivez dans une nature sauvage et impitoyable."},
{"title":"Abiotic Factor","appid":"427410","status":"disponible","note":"","steam":"https://store.steampowered.com/app/427410/Abiotic_Factor/","desc":"Survie et crafting dans une installation souterraine : explorez des zones anormales, affrontez des menaces paranormales et collaborez jusqu'√† 6 joueurs."},
{"title":"Gray Zone Warfare","appid":"2479810","status":"disponible","note":"","steam":"https://store.steampowered.com/app/2479810/Gray_Zone_Warfare/","desc":"Hardcore tactical FPS d'extraction situ√© dans des jungles d'Asie du Sud-Est : rejoignez une PMC, survivez en PvPvE et customisez vos armes."},
{"title":"Remnant 2","appid":"1282100","status":"disponible","note":"","steam":"https://store.steampowered.com/app/1282100/REMNANT_II/","desc":"Affrontez des cr√©atures et boss divins sur des mondes terrifiants ‚Äî jeu d'action-coop o√π exploration et armes √©voluent selon vos choix."},
{"title":"Ready or Not","appid":"1144200","status":"disponible","note":"","steam":"https://store.steampowered.com/app/1144200/Ready_or_Not/","desc":"FPS tactique intense : incarnez une unit√© SWAT moderne et g√©rez des interventions o√π la coordination et la pr√©cision sauvent des vies."},
{"title":"SnowRunner","appid":"1465360","status":"disponible","note":"r√©serv√© jusqu'au 25/10/2025","steam":"https://store.steampowered.com/app/1465360/SnowRunner/","desc":"Simulation tout-terrain : conduisez de puissants v√©hicules, accomplissez des missions et domptez des environnements extr√™mes en solo ou en coop."},
{"title":"Peak","appid":"3527290","status":"r√©serv√©","note":"Votes:2","steam":"https://store.steampowered.com/app/3527290/PEAK/","desc":"A survival crafting game set in the frozen peaks of a mysterious mountain range. Build shelter, explore, and survive against the elements and hidden dangers."},
{"title":"Lens Island","appid":"1335830","status":"r√©serv√©","note":"Votes:2","steam":"https://store.steampowered.com/app/1335830/Lens_Island/","desc":"Explorez une √Æle myst√©rieuse, r√©solvez des √©nigmes et survivez aux dangers cach√©s."},
{"title":"Dying Light 2","appid":"534380","status":"prochainement","note":"Votes:1","steam":"https://store.steampowered.com/app/534380/Dying_Light_2_Stay_Human/","desc":"Un monde ouvert en d√©composition o√π vos choix influencent la survie de la ville. Grimpez, combattez et survivez face aux infect√©s dans une lutte pour l‚Äôhumanit√©."},
{"title":"Aloft","appid":"1660080","status":"prochainement","note":"Votes:2","steam":"https://store.steampowered.com/app/1660080/Aloft/","desc":"Volez et explorez dans un monde ouvert a√©rien tout en survivant aux √©l√©ments et en collectant des ressources."},
{"title":"Enshrouded","appid":"2698780","status":"prochainement","note":"Votes:1","steam":"https://store.steampowered.com/app/1203620/Enshrouded/","desc":"Vous √™tes le Flameborn, dernier espoir d'une race mourante. Survivez aux ravages d'une brume corruptrice, et reconqu√©rez votre royaume perdu. Jetez-vous dans un vaste monde, affrontez des boss redoutables, b√¢tissez votre fief et forgez votre destin dans ce jeu d‚Äôaction-survival coop√©ratif pour 1-16."},
{"title":"No Man's Sky","appid":"275850","status":"prochainement","note":"Votes:1","steam":"https://store.steampowered.com/app/275850/No_Mans_Sky/","desc":"No Man's Sky est un jeu de science-fiction sur l'exploration et la survie dans un univers infini g√©n√©r√© de mani√®re dynamique."},
{"title":"Baldur's Gate 3","appid":"1086940","status":"prochainement","note":"Votes:1","steam":"https://store.steampowered.com/app/1086940/Baldurs_Gate_3/","desc":"Constituez votre groupe et retournez aux Royaumes Oubli√©s dans une histoire d'amiti√©, de trahison, de sacrifice et de survie, sur fond d'attrait du pouvoir absolu."},
{"title":"RV There Yet","appid":"3949040","status":"prochainement","note":"Votes:1","steam":"https://store.steampowered.com/app/3949040/RV_There_Yet/","desc":"Un jeu d'aventure coop√©ratif qui vous met au d√©fi de conduire votre caravane jusqu'√† votre domicile !"},
{"title":"VEIN","appid":"1857950","status":"prochainement","note":"Votes:1","steam":"https://store.steampowered.com/app/1857950/VEIN/","desc":"VEIN est un jeu de survie multijoueur en mode bac √† sable dans un univers post-apocalyptique. Rassemblez des ressources pour survivre, explorez des b√¢timents abandonn√©s, d√©fendez votre maison et reconstruisez la soci√©t√©, seul ou avec des amis."}]
</script>

<script>
const data = JSON.parse(document.getElementById("game-data").textContent);
const container = document.getElementById("games-container");

// --- G√©n√©ration des cartes ---
function steamHeader(appid){ return `https://cdn.cloudflare.steamstatic.com/steam/apps/${appid}/header.jpg`; }

data.forEach(g=>{
  const card=document.createElement("article");
  card.className="card";

  const img=document.createElement("img");
  img.src=steamHeader(g.appid);
  img.alt=g.title+" jaquette";
  img.className="jaquette w-1/3";

  const body=document.createElement("div");
  body.className="w-2/3";

  const title=document.createElement("h3");
  title.className="font-semibold text-xl";
  title.textContent=g.title;

  const badge=document.createElement("span");
  badge.classList.add("ml-3");
  if(g.status==="disponible") badge.innerHTML='<span class="badge-available">Disponible</span>';
  else if(g.status==="r√©serv√©") badge.innerHTML='<span class="badge-reserved">R√©serv√©</span>';
  else badge.innerHTML='<span class="badge-soon">Prochainement</span>';

  const desc=document.createElement("p");
  desc.className="mt-2 text-sm";
  desc.textContent=g.desc;

  const meta=document.createElement("div");
  meta.className="mt-3 text-xs muted flex items-center gap-3";
  const steam=document.createElement("a");
  steam.href=g.steam; steam.target="_blank"; steam.rel="noopener"; steam.textContent="Fiche Steam"; steam.className="underline";
  meta.appendChild(steam);

  body.append(title,badge,desc,meta);
  card.append(img,body);

  container.appendChild(card);
});

// --- Popup ajout jeu ---
const suggestBtn = document.getElementById("add-game-btn");
const suggestPopup = document.getElementById("suggest-popup");
const suggestClose = document.querySelector(".close-popup");
const submitSuggest = document.getElementById("submit-suggest");
const suggestPseudo = document.getElementById("suggest-pseudo");
const suggestLink = document.getElementById("suggest-link");
const suggestMsg = document.getElementById("suggest-msg");

suggestBtn.addEventListener("click", ()=>{ suggestPopup.style.display="flex"; });
suggestClose.addEventListener("click", ()=>{
  suggestPopup.style.display="none"; 
  suggestPseudo.value=""; suggestLink.value=""; suggestMsg.textContent="";
});

submitSuggest.addEventListener("click", ()=>{
  const pseudo = suggestPseudo.value.trim();
  const lien = suggestLink.value.trim();
  if(!pseudo || !lien){ suggestMsg.textContent="‚ö†Ô∏è Tous les champs sont obligatoires !"; return; }
  let suggestions = JSON.parse(localStorage.getItem("suggestions")||"[]");
  suggestions.push({pseudo,lien,status:"en attente",date:new Date().toISOString()});
  localStorage.setItem("suggestions",JSON.stringify(suggestions));
  suggestMsg.textContent="‚úÖ Suggestion enregistr√©e !";
  suggestPseudo.value=""; suggestLink.value="";
});
</script>
</body>
</html>
